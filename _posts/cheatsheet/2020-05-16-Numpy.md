---
layout: post-page
title: Numpy
description: Numpy codes for beginner
imgsrc: assets/images/tools/#
banner: assets/images/tools/#
date: 2020-05-16
category: cheatsheet
tags: [Cheatsheet]
author: Song Jiaming
---
Disclaimer: The structure and content referred from the github repository [Data-Science-Notes](https://github.com/sjiaming/Data-Science-Notes). I wrote this post as my summary notes and it's not for any business purpose.


<br>
To start using numpy, we 
```python
import numpy as np
```

<br>
### 1. Basic Operations
* check the dimensions: ```array.ndim```
* check the shape: ```array.shape```
* check the total number of elements in array: ```array.size```

<br>
### 2. Array type
* Create array from list: ```np.array(any_dimension_list, dtype=np.int32)```
    * dtype is the dat atype of the elements in array
    * ```np.int32``` is the default data type
    * Refer more numpy types [here](https://numpy.org/devdocs/user/basics.types.html)
* Create an array of zeros: ```np.zeros((shape), dtype=atype)```
* Create an array of ones: ```np.ones((3,4))```
* Create an empty array: ```np.empty((shape))```
* Change an array shape to a specified array: ```arr.reshape((shape))```
* Create a series: ```np.arange(start, end+1, step)```
    * e.g. ```np.arange(0,11,2)``` => ```[0,2,4,6,8,10]```
    * np.arange(n) => start from 0 to n, increment by 1 for each step
    * np.arange(end,start-1, -1) , decrease by 1 from end to start
* Create a range of data: ```np.linespace(start_range, end_range, num_items_in_between)
    * e.g. ```np.linespace(1,10,20)``` => ```[ 1  1.47368421  1.94736842  2.42105263  2.89473684  3.36842105
  3.84210526  4.31578947  4.78947368  5.26315789  5.73684211  6.21052632
  6.68421053  7.15789474  7.63157895  8.10526316  8.57894737  9.05263158
  9.52631579 10.        ]```

### Computation 
```python
a = np.array([10,20,30,40]) # [10,20,30,40]
b = np.arange(4) # [0,1,2,3]
```
* ```a-b```, ```a+b```, ```a * b ``` (0,20,60,120)
* ``` a ** n ``` each element in a to power of n
* ```np.sin(a)```, sin(x) for x in a
* ``` b < 2 ``` => [True, True, False, False]
* ``` a==b ``` element wise check of if a==b => [False, False False, False]

* Matrix dot product: ```a.dot(b)``` or ```np.dot(a,b)```
* Minimum and maximum: ```min(a)```, ```max(a)```
* Axis: 
    * 0: find/sum according to each column
    * 1: find/sum according to each row
* Sum of each column: 
    * | 0 | 0 | 0 |
        | 1 | 1 | 1 | 
    * ```np.sum(arr, axis=1)``` => [0,1]
    * ```np.sum(arr, axis=0)``` => [1,1,1]
* Get the index of the largest/smallest element in a Matrix A: ```np.argmax(A)```, ```np.argmin(A)```
* Mean of the whole matrix: ```np.mean(A)``` or ```np.average(A)```
* Median: ```np.median(A)```
* Cumulative sum of elements in A: ```np.cumsum(A)```
    * i.e. A = [1,2,3,4] => np.cumsum(A) = [1,3,6,10]
* Difference between 2 consecutive elements: ```np.diff(B)```
    * B = [[1,2,5],[6,8,9]], diff(B)=> [[1,3],[2,1]]
* Get index of nonzero element in an array: ```np.nonzero(A)```
    * A = [[3, 0, 0], [0, 4, 0], [5, 6, 0]]
    * Returns (array([0, 1, 2, 2]), array([0, 1, 0, 1]))
    * which means position(0,0),(1,1), (2,0),(2,1) contains nonzero elements
    * Further usage: A[np.nonzero(A)] => array([3,4,5,6]). However, A[A != 0] is prefered
* Sort each row in ascending order: np.sort(A)
* Transpose: np.transpose(A) or A.T
* Change every element outside a range to the boundary value ```np.clip(A, min, max)```
    * If the min <= element <= max, then keep the original value
    * If the element > max => max instead
    * If the element < min, => min instead


----
#### References
1. [Data-Science-Notes](https://github.com/sjiaming/Data-Science-Notes)